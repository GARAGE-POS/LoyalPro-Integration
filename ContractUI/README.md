# ูุธุงู ุฅุฏุงุฑุฉ ุงูุนููุฏ ุงูุฑูููุฉ - Contract Management UI

ูุงุฌูุฉ ููุจ ุจุณูุทุฉ ูุฅุฏุงุฑุฉ ุงูุนููุฏ ุงูุฑูููุฉ ุนุจุฑ ููุตุฉ ุตุงุฏู (Sadeq Digital Signature Platform)

## ๐ ุงููุญุชููุงุช

- `index.html` - ุตูุญุฉ ูุงุฆูุฉ ุงูุนููุฏ ููุชุงุจุนุฉ ุญุงูุงุชูุง
- `create-contract.html` - ุตูุญุฉ ุฅูุดุงุก ุนููุฏ ุฌุฏูุฏุฉ (ูุงูุจ ุฃู PDF)
- `styles.css` - ููู ุงูุชูุณููุงุช ุงููุดุชุฑูุฉ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู VS Code Live Server (ููุตู ุจูุง)

1. ุงูุชุญ ุงููุฌูุฏ `ContractUI` ูู VS Code
2. ุงููุฑ ุจุงูุฒุฑ ุงูุฃููู ุนูู `index.html`
3. ุงุฎุชุฑ "Open with Live Server"
4. ุณูุชู ูุชุญ ุงูุตูุญุฉ ูู ุงููุชุตูุญ ุนูู `http://127.0.0.1:5500` ุฃู ูููุฐ ูุดุงุจู

### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู Python HTTP Server

```bash
cd ContractUI
python -m http.server 8000
```

ุซู ุงูุชุญ ุงููุชุตูุญ ุนูู: `http://localhost:8000`

### ุงูุทุฑููุฉ 3: ุงุณุชุฎุฏุงู Node.js HTTP Server

```bash
cd ContractUI
npx http-server -p 8000
```

ุซู ุงูุชุญ ุงููุชุตูุญ ุนูู: `http://localhost:8000`

### ุงูุทุฑููุฉ 4: ูุชุญ ุงูููู ูุจุงุดุฑุฉ

ููููู ูุชุญ `index.html` ูุจุงุดุฑุฉ ูู ุงููุชุตูุญุ ููู ุชุฃูุฏ ูู ุชุดุบูู Azure Functions ุฃููุงู.

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ

### 1. ุชุดุบูู Azure Functions

ุชุฃูุฏ ูู ุชุดุบูู Azure Functions ูุญููุงู:

```bash
cd /workspaces/functions
func start
```

ุงููุธุงุฆู ุณุชุนูู ุนูู: `http://localhost:7071`

### 2. ุชุญุฏูุซ ุนููุงู API (ุฅุฐุง ูุฒู ุงูุฃูุฑ)

ุฅุฐุง ูุงูุช ุงููุธุงุฆู ุชุนูู ุนูู ูููุฐ ูุฎุชููุ ูู ุจุชุญุฏูุซ `API_BASE_URL` ูู ุงููููุงุช:

**ูู `index.html`:**
```javascript
const API_BASE_URL = 'http://localhost:7071/api';
```

**ูู `create-contract.html`:**
```javascript
const API_BASE_URL = 'http://localhost:7071/api';
```

### 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชุฃูุฏ ูู ุชุดุบูู SQL Script ูุฅูุดุงุก ุงูุฌุฏูู:

```sql
-- ุชุดุบูู ููู ContractStatusTable.sql
```

## ๐ฑ ุงูุตูุญุงุช ุงููุชุงุญุฉ

### 1. ูุงุฆูุฉ ุงูุนููุฏ (`index.html`)

- **ุนุฑุถ ุฌููุน ุงูุนููุฏ** ูุน ุญุงูุงุชูุง
- **ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ**:
  - ุฅุฌูุงูู ุงูุนููุฏ
  - ุงูุนููุฏ ุงููุฑุณูุฉ ุจูุฌุงุญ
  - ุงูุนููุฏ ุงููููุนุฉ
  - ุงูุนููุฏ ุจุงูุชุธุงุฑ ุงูุชูููุน
- **ููุชุฑุฉ ูุจุญุซ** ูู ุงูุนููุฏ
- **ุชุญุฏูุซ ุชููุงุฆู** ููุจูุงูุงุช

### 2. ุฅูุดุงุก ุนูุฏ ุฌุฏูุฏ (`create-contract.html`)

#### ููุน 1: ุนูุฏ ูู ูุงูุจ ููุฌูุฏ
- ุฑูุฒ ุงูุดุฑูุฉ (ุฅุฌุจุงุฑู)
- ุงุณู ุงูุดุฑูุฉ (ุฅุฌุจุงุฑู)
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุฅุฌุจุงุฑู)
- ุฑูู ุงููุงุชู (ุฅุฌุจุงุฑูุ ูุจุฏุฃ ุจู +966)
- ุฑูู ุงููููุฉ ุงููุทููุฉ (ุฅุฌุจุงุฑูุ 10 ุฃุฑูุงู)
- ูุนุฑู ุงููุงูุจ ูู ููุตุฉ ุตุงุฏู (ุฅุฌุจุงุฑู)
- ุงููุฑูุน/ุงูุฃุฌูุฒุฉ (ุงุฎุชูุงุฑู)

#### ููุน 2: ุฑูุน ุนูุฏ PDF
- ููุณ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
- ุฑูุน ููู PDF (ุญุฌู ุฃูุตู: 10 ููุฌุงุจุงูุช)

## ๐ ูุชุทูุจุงุช ุงูุจูุงูุงุช

### ุฑูู ุงููุงุชู
- ูุฌุจ ุฃู ูุจุฏุฃ ุจู `+966` ููุฃุฑูุงู ุงูุณุนูุฏูุฉ
- ูุซุงู: `+966501234567`

### ุฑูู ุงููููุฉ ุงููุทููุฉ
- ูุฌุจ ุฃู ูููู 10 ุฃุฑูุงู ููุท
- ูุซุงู: `1234567890`

### ุฑูุฒ ุงูุดุฑูุฉ
- ุฑูุฒ ูุฑูุฏ ููู ุดุฑูุฉ
- ูุง ูููู ุชูุฑุงุฑ ููุณ ุงูุฑูุฒ (UNIQUE Constraint)
- ูุซุงู: `COMP001`

### ูุนุฑู ุงููุงูุจ
- ูุชู ุงูุญุตูู ุนููู ูู ููุญุฉ ุชุญูู ููุตุฉ ุตุงุฏู
- ูุซุงู: `bce984ff-50bd-4792-ba5d-1da96de29d2c`

## ๐จ ุงููููุฒุงุช

- โ ูุงุฌูุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ (RTL)
- โ ุชุตููู ูุชุฌุงูุจ (Responsive)
- โ ุฏุนู ููุนูู ูู ุงูุนููุฏ (ูุงูุจ / PDF)
- โ ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ุฑุณุงุฆู ุฎุทุฃ ููุฌุงุญ ูุงุถุญุฉ
- โ ุนุฑุถ ุญุงูุฉ ุงูุนูุฏ ูู ุงูููุช ุงููุนูู
- โ ุฅุญุตุงุฆูุงุช ูุชูุงุฑูุฑ ุณุฑูุนุฉ

## ๐ ุญู ุงููุดููุงุช

### ูุดููุฉ CORS

ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ ุฎุทุฃ CORS:

1. ุชุฃูุฏ ูู ุฃู `host.json` ูุญุชูู ุนูู:
```json
"Access-Control-Allow-Origin": "*"
```

2. ุฃุนุฏ ุชุดุบูู Azure Functions:
```bash
func start
```

### ุนุฏู ุธููุฑ ุงูุจูุงูุงุช

1. ุชุฃูุฏ ูู ุชุดุบูู Azure Functions ุนูู `http://localhost:7071`
2. ุชุฃูุฏ ูู ุฅูุดุงุก ุฌุฏูู `IntegrationSadeqContracts` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุงูุชุญ Console ูู ุงููุชุตูุญ ููุดุงูุฏุฉ ุงูุฃุฎุทุงุก (F12)

### ูุดููุฉ ุฑูุน ุงููููุงุช

1. ุชุฃูุฏ ูู ุญุฌู ุงูููู ุฃูู ูู 10 ููุฌุงุจุงูุช
2. ุชุฃูุฏ ูู ุฃู ุงูููู ุจุตูุบุฉ PDF ููุท
3. ุชุญูู ูู ุตูุงุญูุงุช ุงููุฑุงุกุฉ/ุงููุชุงุจุฉ

## ๐ API Endpoints ุงููุณุชุฎุฏูุฉ

### GET /api/contracts
ุฌูุจ ุฌููุน ุงูุนููุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**Response:**
```json
{
  "success": true,
  "count": 5,
  "data": [...]
}
```

### POST /api/sadeq_request
ุฅูุดุงุก ุนูุฏ ูู ูุงูุจ

**Request Body:**
```json
{
  "companyCode": "COMP001",
  "destinationName": "ุดุฑูุฉ ูุฑุงุฌ",
  "destinationEmail": "info@karage.co",
  "destinationPhoneNumber": "+966501234567",
  "nationalId": "1234567890",
  "templateId": "template-id",
  "terminals": "T001, T002"
}
```

### POST /api/sadeq_upload_pdf
ุฑูุน ุนูุฏ PDF

**Request:** multipart/form-data
- file: PDF file
- companyCode: string
- companyName: string
- email: string
- phoneNumber: string
- nationalId: string
- terminals: string (optional)

## ๐ ุงูุฃูุงู

- ุชุฃูุฏ ูู ุชุบููุฑ `Access-Control-Allow-Origin` ูู `*` ุฅูู ุงููุทุงู ุงููุนูู ูู ุงูุฅูุชุงุฌ
- ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ
- ูุง ุชุดุงุฑู ุจูุงูุงุช ุงูุงุนุชูุงุฏ (credentials) ูู ุงูููุฏ

## ๐ ููุงุญุธุงุช

- ุตูุงุญูุฉ ุงูุนูุฏ: 30 ูููุงู ูู ุชุงุฑูุฎ ุงูุฅุฑุณุงู
- ูุชู ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููุนููู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงูุฑุณุงุฆู ุงููุตูุฑุฉ
- ูููู ูุชุงุจุนุฉ ุญุงูุฉ ุงูุชูููุน ูู ุตูุญุฉ ูุงุฆูุฉ ุงูุนููุฏ

## ๐ ุงููุดุฑ ููุฅูุชุงุฌ

ุนูุฏ ุงููุดุฑ ููุฅูุชุงุฌ:

1. ูู ุจุชุญุฏูุซ `API_BASE_URL` ูู ุงููููุงุช:
```javascript
const API_BASE_URL = 'https://your-function-app.azurewebsites.net/api';
```

2. ูู ุจุชุญุฏูุซ CORS ูู `host.json`:
```json
"Access-Control-Allow-Origin": "https://your-domain.com"
```

3. ุงุฑูุน ูููุงุช HTML ุฅูู:
   - Azure Static Web Apps
   - Azure Blob Storage (Static Website)
   - ุฃู ุฎุฏูุฉ ุงุณุชุถุงูุฉ ุฃุฎุฑู

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.
